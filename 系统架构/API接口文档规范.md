#### API 接口文档规范

**背景**

前后端的分离、使得我们都是面向“接口” 编程。

另一方面，随着业务的发展，支撑平台的项目也是越来越多。甚至为了让业务系统更加清晰，会从整个平台项目的架构体系，对系统业务水平拆分、垂直分层，产生了一系列平台和子系统，并使用接口进行数据交互。

伴随着业务的发展，接口文档会越来越多。那么痛点在哪里？

代码和文档不匹配，代码接口更新，文档不更新，且接口文档内容和形式百花齐放，不便于理解。

为了解决这些痛点，我们定义了以下几点规范，用于编写API接口时的指导，以便于你写出良好规范的API文档。

#### 一、协议

​     Http,Https、websocket、rpc(http2)

​    这里我们注重关注的是  **http/https**协议下的接口文档规范

#### 二、版本控制

```cpp
https://api.example.com/v{n}

1、应该将API的版本号放入URL。
2、采用多版本并存，增量发布的方式。
3、n代表版本号，如v1、v2、v3 ...
4、对于一个 API 或服务，应在生产中最多保留 3 个最详细的版本
```

#### 三、请求方式

http类型的接口，应该明确请求方式：GET/POST。如果是 RESTful 风格的接口，应该遵循：

```undefined
GET（SELECT）：    从服务器取出资源（一项或多项）。
POST（CREATE）：   在服务器新建一个资源。
PUT（UPDATE）：    在服务器更新资源（客户端提供改变后的完整资源）。
DELETE（DELETE）： 从服务器删除资源。
```

#### 四、请求Header

- **Content-Type** 

  json  、form-data、x-www-form-urlencoded、raw

- **Authrization**

  Bearer Token

#### 五、请求参数

​    参数要求明确：是否必填、参数类型、参数描述

​	建义接口设计时：**参数多单词时以下划线相连**

#### 六、返回参数

   `成功`以及`失败`时返回的参数

   参数要求明确：参数类型、参数描述
#### 七、错误码

  接口文档中公共部分，应给出所有错误的错误码，以及对应的中文描述




YApi 是一个非常优秀的 API接口文档工具。YApi基本满足我们对http 类 API接口的文档书写规范。

